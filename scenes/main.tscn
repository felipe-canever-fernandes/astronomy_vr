[gd_scene load_steps=40 format=3 uid="uid://dgujsn3tru3w2"]

[ext_resource type="Script" path="res://scripts/main.gd" id="1_2r76i"]
[ext_resource type="PackedScene" uid="uid://bq86r4yll8po" path="res://addons/godot-xr-tools/hands/scenes/lowpoly/left_fullglove_low.tscn" id="2_cc1m1"]
[ext_resource type="PackedScene" uid="uid://diyu06cw06syv" path="res://addons/godot-xr-tools/player/player_body.tscn" id="2_htorm"]
[ext_resource type="PackedScene" uid="uid://xqimcf20s2jp" path="res://addons/godot-xr-tools/hands/scenes/lowpoly/right_fullglove_low.tscn" id="3_a1m3w"]
[ext_resource type="PackedScene" uid="uid://xnxbnk8pdj48" path="res://scenes/console_gui.tscn" id="3_m3f21"]
[ext_resource type="Material" uid="uid://dvxp3kftr2x3u" path="res://resources/hand_material.tres" id="3_tmbjj"]
[ext_resource type="PackedScene" uid="uid://bl2nuu3qhlb5k" path="res://addons/godot-xr-tools/functions/movement_direct.tscn" id="5_uk2g3"]
[ext_resource type="PackedScene" uid="uid://clujaf3u776a3" path="res://addons/godot-xr-tools/objects/viewport_2d_in_3d.tscn" id="5_x4w6x"]
[ext_resource type="PackedScene" uid="uid://b6bk2pj8vbj28" path="res://addons/godot-xr-tools/functions/movement_turn.tscn" id="7_bbvjr"]
[ext_resource type="Texture2D" uid="uid://bubealum60yf2" path="res://textures/floor.png" id="9_03vxy"]
[ext_resource type="PackedScene" uid="uid://cqhw276realc" path="res://addons/godot-xr-tools/functions/function_pointer.tscn" id="9_yrm02"]
[ext_resource type="PackedScene" uid="uid://cttyjmt7g11lp" path="res://scenes/tooltip_gui.tscn" id="11_x1iw8"]
[ext_resource type="PackedScene" uid="uid://bkx8teft6wc0v" path="res://scenes/menu_gui.tscn" id="12_3bct5"]
[ext_resource type="PackedScene" uid="uid://bxg7qliyo1b16" path="res://scenes/body.tscn" id="13_e00vo"]
[ext_resource type="Texture2D" uid="uid://mpqkhcyxtl64" path="res://textures/sun.jpg" id="14_ef8r8"]
[ext_resource type="Texture2D" uid="uid://c2lsfiorg8q35" path="res://textures/mars.jpg" id="15_1f18s"]
[ext_resource type="PackedScene" uid="uid://dw7pxoybt2j6p" path="res://scenes/body_selection.tscn" id="15_7t78g"]
[ext_resource type="PackedScene" uid="uid://del47qxgxnctx" path="res://scenes/body_area.tscn" id="15_h2tmo"]
[ext_resource type="Texture2D" uid="uid://5o6kv2yg1aqv" path="res://textures/moon.jpg" id="16_w7ary"]
[ext_resource type="Script" path="res://scripts/sun_light.gd" id="16_wos71"]
[ext_resource type="PackedScene" uid="uid://dd40nqq0ykhxa" path="res://scenes/info_panel_gui.tscn" id="22_qft3v"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_n2jip"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_d8oc5"]
sky_material = SubResource("ProceduralSkyMaterial_n2jip")

[sub_resource type="Environment" id="Environment_82r61"]
background_mode = 1
sky = SubResource("Sky_d8oc5")
tonemap_mode = 2

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_oxqlp"]
transparency = 1
shading_mode = 0
albedo_color = Color(1, 1, 1, 0.196078)
albedo_texture = ExtResource("9_03vxy")
uv1_triplanar = true

[sub_resource type="PlaneMesh" id="PlaneMesh_hoiqd"]
material = SubResource("StandardMaterial3D_oxqlp")
size = Vector2(10000, 10000)

[sub_resource type="BoxShape3D" id="BoxShape3D_nhc8g"]
size = Vector3(10000, 1, 10000)

[sub_resource type="SphereMesh" id="SphereMesh_6rjtd"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_lcw7w"]
albedo_texture = ExtResource("14_ef8r8")
emission_enabled = true
emission = Color(0.470588, 0.470588, 0.470588, 1)
emission_texture = ExtResource("14_ef8r8")

[sub_resource type="SphereMesh" id="SphereMesh_gseub"]
material = SubResource("StandardMaterial3D_lcw7w")

[sub_resource type="SphereShape3D" id="SphereShape3D_ad52t"]

[sub_resource type="SphereMesh" id="SphereMesh_4l27u"]
radius = 0.1
height = 0.2

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_v0eil"]
albedo_texture = ExtResource("15_1f18s")

[sub_resource type="SphereMesh" id="SphereMesh_kp8r6"]
material = SubResource("StandardMaterial3D_v0eil")
radius = 0.1
height = 0.2

[sub_resource type="SphereShape3D" id="SphereShape3D_p386h"]
radius = 0.1

[sub_resource type="SphereMesh" id="SphereMesh_f556k"]
radius = 0.01
height = 0.02

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_838hv"]
albedo_texture = ExtResource("16_w7ary")

[sub_resource type="SphereMesh" id="SphereMesh_cptbp"]
material = SubResource("StandardMaterial3D_838hv")
radius = 0.01
height = 0.02

[sub_resource type="SphereShape3D" id="SphereShape3D_f38yo"]
radius = 0.01

[node name="Main" type="Node3D"]
script = ExtResource("1_2r76i")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_82r61")

[node name="XROrigin3D" type="XROrigin3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 8)

[node name="XRCamera3D" type="XRCamera3D" parent="XROrigin3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.8, 0)
current = true

[node name="Console" parent="XROrigin3D/XRCamera3D" instance=ExtResource("5_x4w6x")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1)
screen_size = Vector2(0.8, 0.45)
collision_layer = 0
scene = ExtResource("3_m3f21")
viewport_size = Vector2(1152, 648)
input_keyboard = false
unshaded = true

[node name="Tooltip" parent="XROrigin3D/XRCamera3D" instance=ExtResource("5_x4w6x")]
transform = Transform3D(1, 0, 0, 0, 0.999999, 0, 0, 0, 0.999999, 0, -0.0999999, -0.5)
screen_size = Vector2(0.15, 0.085)
enabled = false
collision_layer = 5242880
scene = ExtResource("11_x1iw8")
viewport_size = Vector2(320, 180)
unshaded = true

[node name="LeftController" type="XRController3D" parent="XROrigin3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.5, 1, 0)
tracker = &"left_hand"

[node name="LeftHand" parent="XROrigin3D/LeftController" instance=ExtResource("2_cc1m1")]
hand_material_override = ExtResource("3_tmbjj")

[node name="RightController" type="XRController3D" parent="XROrigin3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, 1, 0)
tracker = &"right_hand"

[node name="RightHand" parent="XROrigin3D/RightController" instance=ExtResource("3_a1m3w")]
hand_material_override = ExtResource("3_tmbjj")

[node name="FunctionPointer" parent="XROrigin3D/RightController" instance=ExtResource("9_yrm02")]
distance = 100.0
active_button_action = "ax_button"
laser_length = 1
show_target = true
target_radius = 0.005
collide_with_areas = true

[node name="MovementDirect" parent="XROrigin3D/RightController" instance=ExtResource("5_uk2g3")]

[node name="MovementTurn" parent="XROrigin3D/RightController" instance=ExtResource("7_bbvjr")]

[node name="PlayerBody" parent="XROrigin3D" instance=ExtResource("2_htorm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 7)
player_calibrate_height = false

[node name="Floor" type="StaticBody3D" parent="."]

[node name="Mesh" type="MeshInstance3D" parent="Floor"]
mesh = SubResource("PlaneMesh_hoiqd")

[node name="CollisionShape" type="CollisionShape3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
shape = SubResource("BoxShape3D_nhc8g")

[node name="System" type="Node3D" parent="."]

[node name="Star" parent="System" instance=ExtResource("13_e00vo")]
body_name = "Star"
description = "A star is a luminous spheroid of plasma held together by self-gravity. The nearest star to Earth is the Sun. Many other stars are visible to the naked eye at night; their immense distances from Earth make them appear as fixed points of light. The most prominent stars have been categorized into constellations and asterisms, and many of the brightest stars have proper names. Astronomers have assembled star catalogues that identify the known stars and provide standardized stellar designations. The observable universe contains an estimated 10^22 to 10^24 stars. Only about 4,000 of these stars are visible to the naked eye—all within the Milky Way galaxy.

A star's life begins with the gravitational collapse of a gaseous nebula of material largely comprising hydrogen, helium, and trace heavier elements. Its total mass mainly determines its evolution and eventual fate. A star shines for most of its active life due to the thermonuclear fusion of hydrogen into helium in its core. This process releases energy that traverses the star's interior and radiates into outer space. At the end of a star's lifetime as a fusor, its core becomes a stellar remnant: a white dwarf, a neutron star, or—if it is sufficiently massive—a black hole.

Stellar nucleosynthesis in stars or their remnants creates almost all naturally occurring chemical elements heavier than lithium. Stellar mass loss or supernova explosions return chemically enriched material to the interstellar medium. These elements are then recycled into new stars. Astronomers can determine stellar properties—including mass, age, metallicity (chemical composition), variability, distance, and motion through space—by carrying out observations of a star's apparent brightness, spectrum, and changes in its position in the sky over time.

Stars can form orbital systems with other astronomical objects, as in planetary systems and star systems with two or more stars. When two such stars orbit closely, their gravitational interaction can significantly impact their evolution. Stars can form part of a much larger gravitationally bound structure, such as a star cluster or a galaxy."
rotation_period = 20.0

[node name="BodySelection" parent="System/Star" instance=ExtResource("15_7t78g")]
visible = false
mesh = SubResource("SphereMesh_6rjtd")

[node name="MeshInstance3D" type="MeshInstance3D" parent="System/Star"]
mesh = SubResource("SphereMesh_gseub")

[node name="BodyArea" parent="System/Star" instance=ExtResource("15_h2tmo")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="System/Star/BodyArea"]
shape = SubResource("SphereShape3D_ad52t")

[node name="Light" type="OmniLight3D" parent="System/Star"]
light_energy = 10.0
omni_range = 10.0
script = ExtResource("16_wos71")

[node name="Planet" parent="System" node_paths=PackedStringArray("parent") instance=ExtResource("13_e00vo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 5)
body_name = "Planet"
description = "A planet is a large, rounded astronomical body that is neither a star nor its remnant. The best available theory of planet formation is the nebular hypothesis, which posits that an interstellar cloud collapses out of a nebula to create a young protostar orbited by a protoplanetary disk. Planets grow in this disk by the gradual accumulation of material driven by gravity, a process called accretion. The Solar System has at least eight planets: the terrestrial planets Mercury, Venus, Earth, and Mars, and the giant planets Jupiter, Saturn, Uranus, and Neptune.

The word planet probably comes from the Greek planḗtai, meaning \"wanderers\". In antiquity, this word referred to the Sun, Moon, and five points of light visible by the naked eye that moved across the background of the stars—namely, Mercury, Venus, Mars, Jupiter, and Saturn. Planets have historically had religious associations: multiple cultures identified celestial bodies with gods, and these connections with mythology and folklore persist in the schemes for naming newly discovered Solar System bodies. Earth itself was recognized as a planet when heliocentrism supplanted geocentrism during the 16th and 17th centuries.

With the development of the telescope, the meaning of planet broadened to include objects only visible with assistance: the moons of the planets beyond Earth; the ice giants Uranus and Neptune; Ceres and other bodies later recognized to be part of the asteroid belt; and Pluto, later found to be the largest member of the collection of icy bodies known as the Kuiper belt. The discovery of other large objects in the Kuiper belt, particularly Eris, spurred debate about how exactly to define a planet. The International Astronomical Union (IAU) adopted a standard by which the four terrestrials and four giants qualify, placing Ceres, Pluto, and Eris in the category of dwarf planet, although many planetary scientists have continued to apply the term planet more broadly.

Further advances in astronomy led to the discovery of over five thousand planets outside the Solar System, termed exoplanets. These often show unusual features that the Solar System planets do not show, such as hot Jupiters—giant planets that orbit close to their parent stars, like 51 Pegasi b—and extremely eccentric orbits, such as HD 20782 b. The discovery of brown dwarfs and planets larger than Jupiter also spurred debate on the definition, regarding where exactly to draw the line between a planet and a star. Multiple exoplanets have been found to orbit in the habitable zones of their stars, but Earth remains the only planet known to support life."
parent = NodePath("../Star")
orbital_distance = 5.0
orbital_period = 60.0
rotation_period = 1.0

[node name="BodySelection" parent="System/Planet" instance=ExtResource("15_7t78g")]
visible = false
mesh = SubResource("SphereMesh_4l27u")

[node name="MeshInstance3D" type="MeshInstance3D" parent="System/Planet"]
mesh = SubResource("SphereMesh_kp8r6")

[node name="BodyArea" parent="System/Planet" instance=ExtResource("15_h2tmo")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="System/Planet/BodyArea"]
shape = SubResource("SphereShape3D_p386h")

[node name="Moon" parent="System" node_paths=PackedStringArray("parent") instance=ExtResource("13_e00vo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 4.4)
body_name = "Moon"
description = "The Moon is Earth's only natural satellite. It orbits at an average distance of 384,400 km (238,900 mi), about 30 times the diameter of Earth. Over time Earth's gravity has caused tidal locking, causing the same side of the Moon to always face Earth. Because of this, the lunar day and the lunar month are the same length, at 29.5 Earth days. The Moon's gravitational pull – and to a lesser extent, the Sun's – are the main drivers of Earth's tides.

In geophysical terms the Moon is a planetary-mass object or satellite planet. Its mass is 1.2% that of the Earth, and its diameter is 3,474 km (2,159 mi), roughly one-quarter of Earth's (about as wide as Australia.) Within the Solar System, it is the largest and most massive satellite in relation to its parent planet, the fifth largest and most massive moon overall, and larger and more massive than all known dwarf planets. Its surface gravity is about one sixth of Earth's, about half of that of Mars, and the second highest among all Solar System moons, after Jupiter's moon Io. The body of the Moon is differentiated and terrestrial, with no significant hydrosphere, atmosphere, or magnetic field. It formed 4.51 billion years ago, not long after Earth's formation, out of the debris from a giant impact between Earth and a hypothesized Mars-sized body called Theia.

The lunar surface is covered in lunar dust and marked by mountains, impact craters, their ejecta, ray-like streaks and, mostly on the near side of the Moon, by dark maria (\"seas\"), which are plains of cooled magma. These maria were formed when molten lava flowed into ancient impact basins. The Moon is, beside when passing through Earth's shadow during a lunar eclipse, always illuminated by the Sun, but from Earth the visible illumination shifts during its orbit, producing the lunar phases. The Moon is the brightest celestial object in Earth's night sky. This is mainly due to its large angular diameter, while the reflectance of the lunar surface is comparable to that of asphalt. The apparent size is nearly the same as that of the Sun, allowing it to cover the Sun almost completely during a total solar eclipse. From Earth about 59% of the lunar surface is visible over time due to cyclical shifts in perspective (libration), making parts of the far side of the Moon visible.

For humans the Moon has been an important source of inspiration and knowledge, having been crucial to cosmography, mythology, religion, art, time keeping, natural science, and spaceflight. On September 13, 1959, the first human-made object to reach an extraterrestrial body arrived on the Moon, the Soviet Union's Luna 2 impactor. In 1966, the Moon became the first extraterrestrial body where soft landings and orbital insertions were achieved. On July 20, 1969, humans for the first time landed on the Moon and any extraterrestrial body, at Mare Tranquillitatis with the lander Eagle of the United States' Apollo 11 mission. Five more crews were sent between then and 1972, each with two men landing on the surface. The longest stay was 75 hours by the Apollo 17 crew. Since then, exploration of the Moon has continued robotically with crewed missions being planned to return beginning in the late 2020s."
parent = NodePath("../Planet")
orbital_distance = 1.0
orbital_period = 5.0
rotation_period = 2.0

[node name="BodySelection" parent="System/Moon" instance=ExtResource("15_7t78g")]
mesh = SubResource("SphereMesh_f556k")

[node name="MeshInstance3D" type="MeshInstance3D" parent="System/Moon"]
mesh = SubResource("SphereMesh_cptbp")

[node name="BodyArea" parent="System/Moon" instance=ExtResource("15_h2tmo")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="System/Moon/BodyArea"]
shape = SubResource("SphereShape3D_f38yo")

[node name="Menu" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 7)

[node name="Screen" parent="Menu" instance=ExtResource("5_x4w6x")]
transform = Transform3D(1, 0, 0, 0, 0.866025, 0.5, 0, -0.5, 0.866025, 0, -0.3, -0.5)
screen_size = Vector2(0.8, 0.45)
collision_layer = 5242880
scene = ExtResource("12_3bct5")
viewport_size = Vector2(1152, 648)
transparent = 0
unshaded = true

[node name="InfoPanel" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 5)

[node name="Screen" parent="InfoPanel" instance=ExtResource("5_x4w6x")]
transform = Transform3D(1, 0, 0, 0, 0.866025, 0.5, 0, -0.5, 0.866025, 0, -0.3, -0.5)
screen_size = Vector2(0.3, 0.4)
collision_layer = 5242880
scene = ExtResource("22_qft3v")
viewport_size = Vector2(600, 800)
transparent = 0
unshaded = true

[connection signal="button_pressed" from="XROrigin3D/LeftController" to="." method="_on_left_controller_button_pressed"]
[connection signal="button_pressed" from="XROrigin3D/RightController" to="." method="_on_right_controller_button_pressed"]
[connection signal="button_released" from="XROrigin3D/RightController" to="." method="_on_right_controller_button_released"]
[connection signal="pointer_event" from="System/Star/BodyArea" to="." method="_on_body_area_pointer_event"]
[connection signal="pointer_event" from="System/Planet/BodyArea" to="." method="_on_body_area_pointer_event"]
[connection signal="pointer_event" from="System/Moon/BodyArea" to="." method="_on_body_area_pointer_event"]
