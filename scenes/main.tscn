[gd_scene load_steps=24 format=3 uid="uid://dgujsn3tru3w2"]

[ext_resource type="Script" path="res://scripts/main.gd" id="1_2r76i"]
[ext_resource type="PackedScene" uid="uid://bq86r4yll8po" path="res://addons/godot-xr-tools/hands/scenes/lowpoly/left_fullglove_low.tscn" id="2_cc1m1"]
[ext_resource type="PackedScene" uid="uid://diyu06cw06syv" path="res://addons/godot-xr-tools/player/player_body.tscn" id="2_htorm"]
[ext_resource type="PackedScene" uid="uid://xqimcf20s2jp" path="res://addons/godot-xr-tools/hands/scenes/lowpoly/right_fullglove_low.tscn" id="3_a1m3w"]
[ext_resource type="Material" uid="uid://dvxp3kftr2x3u" path="res://resources/hand_material.tres" id="3_tmbjj"]
[ext_resource type="PackedScene" uid="uid://fiul51tsyoop" path="res://addons/godot-xr-tools/functions/function_teleport.tscn" id="4_mmhsi"]
[ext_resource type="PackedScene" uid="uid://bl2nuu3qhlb5k" path="res://addons/godot-xr-tools/functions/movement_direct.tscn" id="5_uk2g3"]
[ext_resource type="PackedScene" uid="uid://clujaf3u776a3" path="res://addons/godot-xr-tools/objects/viewport_2d_in_3d.tscn" id="5_x4w6x"]
[ext_resource type="PackedScene" uid="uid://b6bk2pj8vbj28" path="res://addons/godot-xr-tools/functions/movement_turn.tscn" id="7_bbvjr"]
[ext_resource type="Texture2D" uid="uid://bubealum60yf2" path="res://textures/floor.png" id="9_03vxy"]
[ext_resource type="PackedScene" uid="uid://cqhw276realc" path="res://addons/godot-xr-tools/functions/function_pointer.tscn" id="9_yrm02"]
[ext_resource type="PackedScene" uid="uid://bkx8teft6wc0v" path="res://scenes/menu_gui.tscn" id="12_3bct5"]
[ext_resource type="PackedScene" uid="uid://bxg7qliyo1b16" path="res://scenes/body.tscn" id="13_e00vo"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_n2jip"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_d8oc5"]
sky_material = SubResource("ProceduralSkyMaterial_n2jip")

[sub_resource type="Environment" id="Environment_82r61"]
background_mode = 1
sky = SubResource("Sky_d8oc5")
tonemap_mode = 2

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_oxqlp"]
albedo_texture = ExtResource("9_03vxy")
uv1_triplanar = true

[sub_resource type="PlaneMesh" id="PlaneMesh_hoiqd"]
material = SubResource("StandardMaterial3D_oxqlp")
size = Vector2(100, 100)

[sub_resource type="BoxShape3D" id="BoxShape3D_nhc8g"]
size = Vector3(100, 1, 100)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_lcw7w"]
emission_enabled = true
emission = Color(1, 1, 1, 1)

[sub_resource type="SphereMesh" id="SphereMesh_gseub"]
material = SubResource("StandardMaterial3D_lcw7w")

[sub_resource type="SphereMesh" id="SphereMesh_kp8r6"]
radius = 0.1
height = 0.2

[sub_resource type="SphereMesh" id="SphereMesh_cptbp"]
radius = 0.01
height = 0.02

[node name="Main" type="Node3D"]
script = ExtResource("1_2r76i")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_82r61")

[node name="XROrigin3D" type="XROrigin3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 8)

[node name="XRCamera3D" type="XRCamera3D" parent="XROrigin3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.8, 0)

[node name="LeftController" type="XRController3D" parent="XROrigin3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.5, 1, 0)
tracker = &"left_hand"

[node name="LeftHand" parent="XROrigin3D/LeftController" instance=ExtResource("2_cc1m1")]
hand_material_override = ExtResource("3_tmbjj")

[node name="FunctionTeleport" parent="XROrigin3D/LeftController" instance=ExtResource("4_mmhsi")]
can_teleport_color = Color(1, 1, 1, 1)
cant_teleport_color = Color(1, 0.654902, 0.6, 1)
no_collision_color = Color(1, 1, 1, 1)

[node name="Menu" parent="XROrigin3D/LeftController" instance=ExtResource("5_x4w6x")]
transform = Transform3D(0.642402, 0.25, 0.724445, -0.482963, 0.866025, 0.12941, -0.595035, -0.433013, 0.677077, 0.165622, -0.0648957, -0.0706091)
screen_size = Vector2(0.4, 0.225)
collision_layer = 5242880
scene = ExtResource("12_3bct5")
transparent = 0
unshaded = true

[node name="RightController" type="XRController3D" parent="XROrigin3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, 1, 0)
tracker = &"right_hand"

[node name="RightHand" parent="XROrigin3D/RightController" instance=ExtResource("3_a1m3w")]
hand_material_override = ExtResource("3_tmbjj")

[node name="MovementDirect" parent="XROrigin3D/RightController" instance=ExtResource("5_uk2g3")]

[node name="MovementTurn" parent="XROrigin3D/RightController" instance=ExtResource("7_bbvjr")]

[node name="FunctionPointer" parent="XROrigin3D/RightController" instance=ExtResource("9_yrm02")]
active_button_action = "ax_button"
laser_length = 1
show_target = true
target_radius = 0.005

[node name="PlayerBody" parent="XROrigin3D" instance=ExtResource("2_htorm")]
player_calibrate_height = false

[node name="Floor" type="StaticBody3D" parent="."]

[node name="MeshInstance3D" type="MeshInstance3D" parent="Floor"]
mesh = SubResource("PlaneMesh_hoiqd")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
shape = SubResource("BoxShape3D_nhc8g")

[node name="Star" parent="." instance=ExtResource("13_e00vo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
body_name = "Star"
description = "A star is a luminous spheroid of plasma held together by self-gravity. The nearest star to Earth is the Sun. Many other stars are visible to the naked eye at night; their immense distances from Earth make them appear as fixed points of light. The most prominent stars have been categorised into constellations and asterisms, and many of the brightest stars have proper names. Astronomers have assembled star catalogues that identify the known stars and provide standardized stellar designations. The observable universe contains an estimated 1022 to 1024 stars. Only about 4,000 of these stars are visible to the naked eyeâ€”all within the Milky Way galaxy."

[node name="MeshInstance3D" type="MeshInstance3D" parent="Star"]
mesh = SubResource("SphereMesh_gseub")

[node name="Light" type="OmniLight3D" parent="Star"]
light_energy = 16.0
omni_range = 75.0

[node name="Planet" parent="." node_paths=PackedStringArray("parent") instance=ExtResource("13_e00vo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 5)
body_name = "Planet"
description = "A planet is a large, rounded astronomical body that is neither a star nor its remnant. The best available theory of planet formation is the nebular hypothesis, which posits that an interstellar cloud collapses out of a nebula to create a young protostar orbited by a protoplanetary disk. Planets grow in this disk by the gradual accumulation of material driven by gravity, a process called accretion. The Solar System has at least eight planets: the terrestrial planets Mercury, Venus, Earth, and Mars, and the giant planets Jupiter, Saturn, Uranus, and Neptune."
parent = NodePath("../Star")
orbital_period = 60.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="Planet"]
mesh = SubResource("SphereMesh_kp8r6")

[node name="Moon" parent="." node_paths=PackedStringArray("parent") instance=ExtResource("13_e00vo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 4.4)
body_name = "Moon"
description = "A natural satellite is, in the most common usage, an astronomical body that orbits a planet, dwarf planet, or small Solar System body (or sometimes another natural satellite). Natural satellites are colloquially referred to as moons, a derivation from the Moon of Earth."
parent = NodePath("../Planet")
orbital_period = 5.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="Moon"]
mesh = SubResource("SphereMesh_cptbp")

[connection signal="button_pressed" from="XROrigin3D/LeftController" to="." method="_on_left_controller_button_pressed"]
